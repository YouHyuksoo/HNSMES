# 문제해결 가이드

HNSMES 시스템 사용 중 발생할 수 있는 일반적인 문제와 해결 방법을 안내합니다.

## 로그인 관련 문제

### 로그인이 안 될 때

#### 증상
- 아이디/비밀번호 입력 후 로그인 실패
- "로그인 정보가 올바르지 않습니다" 메시지

#### 해결 방법

1. **대소문자 확인**
   - Caps Lock 상태 확인
   - ID/PW 대소문자 정확히 입력

2. **비밀번호 초기화**
   - 관리자에게 비밀번호 초기화 요청
   - 또는 BASE004 화면에서 초기화

3. **계정 상태 확인**
   ```sql
   -- 관리자가 확인할 쿼리
   SELECT USER_ID, USE_YN, LOCK_YN 
   FROM TM_USER 
   WHERE USER_ID = '사용자ID';
   ```

| 상태 | 의미 | 조치 |
|------|------|------|
| USE_YN = 'N' | 미사용 계정 | 관리자에게 계정 활성화 요청 |
| LOCK_YN = 'Y' | 잠금 상태 | 관리자에게 잠금 해제 요청 |

---

## 화면 로딩 문제

### 화면이 느리게 로딩될 때

#### 증상
- 화면 열림 지연 (5초 이상)
- 데이터 그리드 로딩 지연

#### 해결 방법

1. **조회 조건 설정**
   - 날짜 범위를 좁게 설정
   - 공장/작업장 등 필터 사용

2. **데이터 건수 제한**
   - 한 번에 조회할 데이터 1,000건 이하로
   - 페이징 기능 사용

3. **네트워크 상태 확인**
   - 네트워크 연결 상태 확인
   - 서버와의 Ping 테스트

---

### 화면이 안 열릴 때

#### 증상
- 화면 실행 시 오류 메시지
- 빈 화면만 표시

#### 해결 방법

1. **메뉴 권한 확인**
   - BASE005 화면에서 권한 확인
   - 필요시 관리자에게 권한 요청

2. **프로그램 재실행**
   - 완전 종료 후 재실행
   - 임시 파일 삭제

3. **에러 로그 확인**
   - 로그 파일 위치: `C:\HNSMES\Logs\`
   - 최근 에러 로그 확인

---

## 데이터 저장 문제

### 저장이 안 될 때

#### 증상
- 저장 버튼 클릭 시 에러
- "저장에 실패했습니다" 메시지

#### 해결 방법

1. **필수값 확인**
   - 빨간색 표시 필수 항목 모두 입력
   - 날짜 형식 확인 (YYYY-MM-DD)

2. **중복 확인**
   - PK 컬럼 중복 여부 확인
   - "이미 등록된 코드입니다" 메시지 확인

3. **DB Lock 확인**
   ```sql
   -- 관리자 확인 쿼리
   SELECT * FROM V$LOCK 
   WHERE TYPE = 'TM';
   ```

---

### 삭제가 안 될 때

#### 증상
- 삭제 버튼 클릭 시 에러
- "삭제할 수 없습니다" 메시지

#### 해결 방법

1. **참조 데이터 확인**
   - 하위 데이터 존재 여부 확인
   - 관련 트랜잭션 데이터 확인

2. **사용 여부 확인**
   - 해당 데이터 사용 중인 화면 확인
   - 이력 데이터 존재 여부

3. **삭제 가능 상태 확인**
   - 확정/마감된 데이터는 삭제 불가
   - 먼저 상태 변경 필요

---

## 출력/인쇄 문제

### 리포트가 출력되지 않을 때

#### 증상
- 인쇄 버튼 클릭 시 반응 없음
- 리포트 뷰어 로딩 실패

#### 해결 방법

1. **프린터 연결 확인**
   - 기본 프린터 설정 확인
   - 프린터 전원/연결 상태

2. **리포트 뷰어 설치**
   - Crystal Reports 런타임 설치 확인
   - 버전 확인 (13.0.XX)

3. **임시 폴더 확인**
   - `C:\Windows\Temp` 쓰기 권한 확인
   - 임시 파일 정리

---

## 성능 문제

### 전반적인 느린 응답

#### 원인 분석 체크리스트

| 항목 | 확인 방법 | 조치 |
|------|-----------|------|
| DB 서버 CPU | 관리자 문의 | 쿼리 튜닝 요청 |
| 네트워크 지연 | Ping 테스트 | 네트워크 팀 문의 |
| 클라이언트 사양 | 시스템 정보 확인 | 메모리 증설 |
| 동시 사용자 수 | 관리자 문의 | 사용 시간대 조정 |

---

## 오류 코드 참조

| 오류코드 | 메시지 | 원인 | 해결방법 |
|----------|--------|------|----------|
| E001 | 로그인 실패 | ID/PW 오류 | 정보 확인 |
| E002 | 권한 없음 | 메뉴 권한 없음 | 관리자 문의 |
| E003 | 데이터 없음 | 조회 결과 없음 | 조건 변경 |
| E004 | 중복 오류 | PK 중복 | 다른 코드 사용 |
| E005 | 필수값 누락 | 필수 항목 미입력 | 필수값 입력 |
| E006 | 형식 오류 | 데이터 형식 불일치 | 형식 확인 |
| E007 | 참조 오류 | FK 제약 위반 | 상위 데이터 확인 |
| E008 | 마감 오류 | 마감된 기간 | 마감 해제 요청 |
| E009 | Lock 오류 | 레코드 Lock | 잠시 후 재시도 |
| E999 | 시스템 오류 | 기타 오류 | 관리자 문의 |

---

## 디버그 기법

### 로그 수준 설정

```xml
<!-- config.xml -->
<LogLevel>DEBUG</LogLevel>
```

| 레벨 | 설명 |
|------|------|
| ERROR | 오류만 기록 |
| WARN | 경고 이상 기록 |
| INFO | 정보 이상 기록 |
| DEBUG | 디버그 이상 기록 |

### SQL 추적

1. 개발모드에서 SQL 로그 활성화
2. 로그 파일에서 실행 SQL 확인
3. DBMS에서 직접 실행 테스트

---

## 긴급 연락처

| 구분 | 담당자 | 연락처 | 비고 |
|------|--------|--------|------|
| 시스템관리자 | IT팀 | 내선 1000 | 업무시간 |
| DB관리자 | DBA팀 | 내선 1001 | 업무시간 |
| 개발담당자 | 개발팀 | 내선 1002 | 업무시간 |
| 비상연락처 | 당직 | 010-XXXX-XXXX | 24시간 |

!!! warning "중요"
    시스템 오류 발생 시 화면 캡처와 함께 
    발생 시점, 수행 작업, 사용자 ID를 
    기록하여 담당자에게 전달하세요.
